<div class="container my-5">
  <h2 class="text-center text-primary mb-4">My Reviews</h2>
  <div class="row">
    @for(review of reviews; track review._id){
    <div class="col-md-6 col-lg-4 mb-4">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <div class="d-flex align-items-center mb-3">
            <img class="rounded-circle" width="50px" height="50px" [src]="productImage + review?.product?.cover" [alt]="review?.product?.name">
            <h5 class="card-title mx-3">{{review?.product?.name}}</h5>
          </div>
          <p class="card-text text-secondary">{{review?.comment}}</p>
          <div class="d-flex justify-content-between align-items-center">
            <span class="badge bg-success">{{review?.rating}} / 5</span>
            <div class="d-flex">
              <a [routerLink]="['/myReviews',review._id]" class="btn btn-outline-primary btn-sm rounded-pill mx-1">Update</a>
              <button (click)="deleteReview(review._id)" class="btn btn-outline-danger btn-sm rounded-pill mx-1">Delete</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    }
  </div>
</div>

<div class="container d-flex justify-content-center mt-5">
  <ul class="pagination">
    @if(pagination.prev)
    {
      <li (click)="changePage(pagination.prev)" class="page-item">
        <button class="page-link">Previous</button>
      </li>
    }
    @if(pagination.currentPage !== 1)
    {
      <li (click)="changePage(1)" class="page-item">
        <button class="page-link">1</button>
      </li>
    }
    <li class="page-item active">
      <button class="page-link">{{pagination.currentPage}}</button>
    </li>
    @if(pagination.currentPage !== pagination.totalPages)
    {
      <li (click)="changePage(pagination.totalPages!)" class="page-item">
        <button class="page-link">{{pagination.totalPages}}</button>
      </li>
    }
    @if(pagination.next)
    {
      <li (click)="changePage(pagination.next)" class="page-item">
        <button class="page-link">Next</button>
      </li>
    }
  </ul>
</div>
